<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Translation Alignment System - Technical Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #2c3e50;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1em;
            color: #7f8c8d;
            font-style: italic;
        }

        .status-indicators {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 500;
            font-size: 0.9em;
            border: 2px solid;
        }

        .implemented {
            background: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
        }

        .in-progress {
            background: #fff3cd;
            color: #856404;
            border-color: #ffeaa7;
        }

        .planned {
            background: #cce5ff;
            color: #004085;
            border-color: #b8daff;
        }

        .optimization {
            background: #f8d7da;
            color: #721c24;
            border-color: #f5c6cb;
        }

        .section {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #3498db;
        }

        .section h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #2c3e50;
            font-weight: 400;
        }

        /* Pipeline Diagram Styles */
        .pipeline-container {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 40px 20px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .pipeline {
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 1200px;
            position: relative;
        }

        .pipeline-step {
            flex: 1;
            max-width: 180px;
            text-align: center;
            padding: 25px 15px;
            margin: 0 10px;
            border-radius: 6px;
            border: 2px solid #dee2e6;
            background: white;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .pipeline-step:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .pipeline-step.implemented {
            border-color: #28a745;
            background: linear-gradient(135deg, #f8fff8, #e8f5e8);
        }

        .pipeline-step.planned {
            border-color: #007bff;
            background: linear-gradient(135deg, #f0f8ff, #e3f2fd);
        }

        .pipeline-step.optimization {
            border-color: #dc3545;
            background: linear-gradient(135deg, #fff5f5, #ffebee);
        }

        .pipeline-step::after {
            content: '→';
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #6c757d;
            font-weight: normal;
            z-index: 10;
        }

        .pipeline-step:last-child::after {
            display: none;
        }

        /* Alternative alignment strategies container */
        .pipeline-step-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 10px;
        }

        .alignment-alternatives {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            position: relative;
        }

        .alternative-label {
            font-size: 0.85em;
            color: #6c757d;
            font-weight: 600;
            text-align: center;
            margin-bottom: 10px;
            padding: 5px 10px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
        }

        .alignment-alternatives .pipeline-step {
            margin: 0;
            max-width: 180px;
            position: relative;
        }

        .alignment-alternatives .pipeline-step::after {
            display: none;
        }

        .or-divider {
            font-weight: 600;
            color: #6c757d;
            background: white;
            padding: 5px 15px;
            border: 2px solid #dee2e6;
            border-radius: 20px;
            font-size: 0.8em;
            margin: 5px 0;
        }

        .pipeline-arrow {
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #6c757d;
            font-weight: normal;
            z-index: 10;
        }

        .pipeline-step-container:last-child .pipeline-arrow {
            display: none;
        }

        .step-title {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .step-subtitle {
            font-size: 0.85em;
            color: #6c757d;
            margin-bottom: 12px;
            font-style: italic;
        }

        .step-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            justify-content: center;
            margin-top: 10px;
        }

        .tech-pill {
            background: #6c757d;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7em;
            font-weight: 500;
        }

        .step-status {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .step-status.implemented {
            background: #28a745;
        }

        .step-status.planned {
            background: #007bff;
        }

        .step-status.optimization {
            background: #dc3545;
        }

        /* Architecture Layers */
        .layer {
            margin-bottom: 30px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            overflow: hidden;
        }

        .layer-header {
            background: linear-gradient(90deg, #495057, #6c757d);
            color: white;
            padding: 15px 25px;
            font-weight: 500;
            font-size: 1.1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .layer-content {
            padding: 25px;
            background: #f8f9fa;
        }

        .modules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .module {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .module:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .module.implemented {
            border-left: 4px solid #28a745;
            background: linear-gradient(135deg, #f8fff8, #ffffff);
        }

        .module.in-progress {
            border-left: 4px solid #ffc107;
            background: linear-gradient(135deg, #fff8f0, #ffffff);
        }

        .module.planned {
            border-left: 4px solid #007bff;
            background: linear-gradient(135deg, #f0f8ff, #ffffff);
        }

        .module.optimization {
            border-left: 4px solid #dc3545;
            background: linear-gradient(135deg, #fff5f5, #ffffff);
        }

        .module-status {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .module-status.implemented {
            background: #28a745;
        }

        .module-status.in-progress {
            background: #ffc107;
        }

        .module-status.planned {
            background: #007bff;
        }

        .module-status.optimization {
            background: #dc3545;
        }

        .module-title {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .module-desc {
            font-size: 0.95em;
            color: #6c757d;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .module-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .tech-tag {
            background: #e9ecef;
            color: #495057;
            padding: 4px 10px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: 500;
            border: 1px solid #ced4da;
        }

        /* Strategy Box */
        .strategy-box {
            background: #e8f4fd;
            border: 1px solid #007bff;
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
        }

        .strategy-title {
            font-weight: 600;
            color: #004085;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .strategy-desc {
            font-size: 0.9em;
            color: #004085;
        }

        /* Optimization Alert */
        .optimization-alert {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border: 2px solid #dc3545;
            border-radius: 6px;
            padding: 25px;
            margin: 25px 0;
            position: relative;
        }

        .optimization-title {
            font-weight: 600;
            color: #721c24;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .optimization-desc {
            color: #721c24;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .optimization-strategies {
            background: white;
            border-radius: 4px;
            padding: 20px;
            border-left: 4px solid #28a745;
        }

        .strategies-title {
            font-weight: 600;
            color: #155724;
            margin-bottom: 15px;
        }

        .strategies-list {
            list-style: none;
            padding: 0;
        }

        .strategies-list li {
            margin-bottom: 8px;
            color: #155724;
            padding-left: 20px;
            position: relative;
        }

        .strategies-list li::before {
            content: '▸';
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }

        /* Questions Section */
        .questions-section {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #dc3545;
        }

        .question-item {
            background: #f8d7da;
            border: 1px solid #dc3545;
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }

        .question-title {
            font-weight: 600;
            color: #721c24;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .question-desc {
            color: #721c24;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .question-impact {
            font-size: 0.9em;
            color: #856404;
            font-style: italic;
            background: #fff3cd;
            padding: 8px 12px;
            border-radius: 4px;
            border-left: 3px solid #ffc107;
        }

        /* Performance Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .metric-card {
            background: linear-gradient(135deg, #495057, #6c757d);
            color: white;
            padding: 25px;
            border-radius: 6px;
            text-align: center;
            border: 1px solid #adb5bd;
        }

        .metric-value {
            font-size: 2.2em;
            font-weight: 300;
            display: block;
            margin-bottom: 8px;
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        /* Frontend Integration */
        .integration-section {
            background: #e8f4fd;
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .integration-title {
            font-weight: 600;
            color: #004085;
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .integration-components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .integration-item {
            background: white;
            padding: 15px;
            border-radius: 4px;
            border-left: 3px solid #007bff;
        }

        .integration-item h4 {
            color: #004085;
            margin-bottom: 8px;
        }

        .integration-item p {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .pipeline {
                flex-direction: column;
                min-width: auto;
            }

            .pipeline-step {
                max-width: none;
                margin: 10px 0;
            }

            .pipeline-step-container {
                margin: 10px 0;
            }

            .pipeline-step::after {
                content: '↓';
                bottom: -20px;
                right: 50%;
                top: auto;
                transform: translateX(50%);
            }

            .pipeline-arrow {
                content: '↓';
                bottom: -20px;
                right: 50%;
                top: auto;
                transform: translateX(50%);
                position: relative;
                margin: 10px 0;
            }

            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Backend Application for Automatic Translation Alignment</h1>
            <p>DiScEPT Project - Technical Architecture & Implementation Strategy</p>
            <div class="status-indicators">
                <div class="status-badge implemented">Implemented</div>
                <div class="status-badge in-progress">In Progress</div>
                <div class="status-badge planned">Planned</div>
                <div class="status-badge optimization">Optimization Target</div>
            </div>
        </div>

        <div class="section">
            <h2>Complete Processing Pipeline</h2>
            <p>End-to-end workflow from TEI input to aligned TEI output with alternative alignment strategies via
                different API endpoints</p>

            <div class="pipeline-container">
                <div class="pipeline">
                    <div class="pipeline-step planned" onclick="highlightStep(this)">
                        <div class="step-status planned"></div>
                        <div class="step-title">TEI Document Input</div>
                        <div class="step-subtitle">Frontend submits source and target TEI documents</div>
                        <div class="step-tech">
                            <div class="tech-pill">TEI P5</div>
                            <div class="tech-pill">XML</div>
                            <div class="tech-pill">HTTP POST</div>
                        </div>
                    </div>

                    <div class="pipeline-step planned">
                        <div class="step-status planned"></div>
                        <div class="step-title">TEI Parsing</div>
                        <div class="step-subtitle">Extract text content and preserve document structure</div>
                        <div class="step-tech">
                            <div class="tech-pill">lxml</div>
                            <div class="tech-pill">XPath</div>
                            <div class="tech-pill">Structure Mapping</div>
                        </div>
                    </div>

                    <div class="pipeline-step-container">
                        <div class="alignment-alternatives">
                            <div class="alternative-label">Alignment Strategy Selection</div>
                            <div class="pipeline-step optimization">
                                <div class="step-status optimization"></div>
                                <div class="step-title">Enhanced Bertalign Core</div>
                                <div class="step-subtitle">Sentence-level endpoint: integrated splitting, embeddings,
                                    and alignment</div>
                                <div class="step-tech">
                                    <div class="tech-pill">HuggingFace</div>
                                    <div class="tech-pill">LaBSE</div>
                                    <div class="tech-pill">Modified Bertalign</div>
                                </div>
                            </div>

                            <div class="or-divider">OR</div>

                            <div class="pipeline-step planned">
                                <div class="step-status planned"></div>
                                <div class="step-title">Word-Level Alignment</div>
                                <div class="step-subtitle">Word-level endpoint: token-based alignment processing</div>
                                <div class="step-tech">
                                    <div class="tech-pill">Word Embeddings</div>
                                    <div class="tech-pill">Token Alignment</div>
                                </div>
                            </div>
                        </div>

                        <div class="pipeline-arrow">→</div>
                    </div>

                    <div class="pipeline-step planned">
                        <div class="step-status planned"></div>
                        <div class="step-title">TEI Reconstruction</div>
                        <div class="step-subtitle">Generate aligned TEI with linkGrp annotations</div>
                        <div class="step-tech">
                            <div class="tech-pill">lxml.builder</div>
                            <div class="tech-pill">linkGrp</div>
                            <div class="tech-pill">TEI P5</div>
                        </div>
                    </div>

                    <div class="pipeline-step planned">
                        <div class="step-status planned"></div>
                        <div class="step-title">Response Delivery</div>
                        <div class="step-subtitle">Return aligned TEI document to frontend</div>
                        <div class="step-tech">
                            <div class="tech-pill">FastAPI</div>
                            <div class="tech-pill">JSON Response</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="optimization-alert">
                <div class="optimization-title">Current Optimization Strategy</div>
                <div class="optimization-desc">
                    <strong>Removing Language Detection:</strong> Eliminating googletrans dependency to reduce Docker
                    image size.
                    <strong>Rebuilding Bertalign:</strong> Integrating embeddings generation directly into Bertalign
                    logic using HuggingFace API.
                    <strong>Alternative Endpoints:</strong> Separate API endpoints for sentence-level and word-level
                    alignment strategies.
                    <strong>Cloud Deployment:</strong> Docker images built on Google Cloud with lazy model loading at
                    deployment.
                </div>

                <div class="optimization-strategies">
                    <div class="strategies-title">Implementation Strategies:</div>
                    <ul class="strategies-list">
                        <li>Remove googletrans package entirely from dependencies</li>
                        <li>Integrate HuggingFace API calls within modified Bertalign logic</li>
                        <li>Utilize Google Cloud Build for optimized Docker image creation</li>
                        <li>Implement lazy loading of models at container startup</li>
                        <li>Separate word-level alignment as independent endpoint and processing module</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>System Architecture Layers</h2>

            <div class="layer">
                <div class="layer-header">
                    <span>API Gateway Layer</span>
                    <span class="status-badge implemented">Implemented</span>
                </div>
                <div class="layer-content">
                    <div class="modules">
                        <div class="module implemented">
                            <div class="module-status implemented"></div>
                            <div class="module-title">FastAPI Application</div>
                            <div class="module-desc">Asynchronous web framework with automatic OpenAPI documentation,
                                request validation, and error handling</div>
                            <div class="module-tech">
                                <div class="tech-tag">FastAPI</div>
                                <div class="tech-tag">Uvicorn</div>
                                <div class="tech-tag">Pydantic</div>
                                <div class="tech-tag">OpenAPI</div>
                            </div>
                        </div>

                        <div class="module implemented">
                            <div class="module-status implemented"></div>
                            <div class="module-title">Request Validation</div>
                            <div class="module-desc">Input validation and sanitization using Pydantic models for
                                alignment request payloads</div>
                            <div class="module-tech">
                                <div class="tech-tag">Pydantic Models</div>
                                <div class="tech-tag">Type Validation</div>
                            </div>
                        </div>

                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">Rate Limiting & Authentication</div>
                            <div class="module-desc">Request throttling and API key management for production deployment
                            </div>
                            <div class="module-tech">
                                <div class="tech-tag">Redis</div>
                                <div class="tech-tag">slowapi</div>
                                <div class="tech-tag">JWT</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-header">
                    <span>TEI Processing Layer</span>
                    <span class="status-badge in-progress">Next Implementation Priority</span>
                </div>
                <div class="layer-content">
                    <div class="modules">
                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">TEI Document Parser</div>
                            <div class="module-desc">Comprehensive TEI P5 XML parsing with metadata extraction,
                                structure preservation, and validation</div>
                            <div class="module-tech">
                                <div class="tech-tag">lxml</div>
                                <div class="tech-tag">TEI P5 Schema</div>
                                <div class="tech-tag">XPath</div>
                                <div class="tech-tag">XML Validation</div>
                            </div>
                        </div>

                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">Text Extraction & Mapping</div>
                            <div class="module-desc">Extract plain text content while maintaining precise position
                                mapping to original TEI structure</div>
                            <div class="module-tech">
                                <div class="tech-tag">Text Extraction</div>
                                <div class="tech-tag">Position Mapping</div>
                                <div class="tech-tag">Structure Preservation</div>
                            </div>
                        </div>

                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">TEI Reconstructor</div>
                            <div class="module-desc">Rebuild TEI documents with alignment annotations using linkGrp
                                elements according to TEI P5 standards</div>
                            <div class="module-tech">
                                <div class="tech-tag">lxml.builder</div>
                                <div class="tech-tag">linkGrp Generation</div>
                                <div class="tech-tag">TEI Compliance</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-header">
                    <span>Alignment Processing Layer</span>
                    <span class="status-badge optimization">Under Optimization</span>
                </div>
                <div class="layer-content">
                    <div class="modules">
                        <div class="module optimization">
                            <div class="module-status optimization"></div>
                            <div class="module-title">Enhanced Bertalign Core</div>
                            <div class="module-desc">Rebuilt Bertalign with integrated HuggingFace embeddings
                                generation, removing external dependencies</div>
                            <div class="module-tech">
                                <div class="tech-tag">Modified Bertalign</div>
                                <div class="tech-tag">HuggingFace API</div>
                                <div class="tech-tag">LaBSE Embeddings</div>
                                <div class="tech-tag">Internal Sentence Splitting</div>
                            </div>
                            <div class="strategy-box">
                                <div class="strategy-title">Optimization Strategy</div>
                                <div class="strategy-desc">Removing googletrans dependency and integrating HuggingFace
                                    API calls directly into alignment logic</div>
                            </div>
                        </div>

                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">Word-Level Alignment Module</div>
                            <div class="module-desc">Separate processing component for word-level alignment, operating
                                independently from Bertalign</div>
                            <div class="module-tech">
                                <div class="tech-tag">Word Embeddings</div>
                                <div class="tech-tag">Token Alignment</div>
                                <div class="tech-tag">Similarity Metrics</div>
                            </div>
                        </div>

                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">Caching System</div>
                            <div class="module-desc">Redis-based caching for embeddings and alignment results to improve
                                performance</div>
                            <div class="module-tech">
                                <div class="tech-tag">Redis</div>
                                <div class="tech-tag">Embedding Cache</div>
                                <div class="tech-tag">TTL Management</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-header">
                    <span>Infrastructure Layer</span>
                    <span class="status-badge implemented">Google Cloud Deployed</span>
                </div>
                <div class="layer-content">
                    <div class="modules">
                        <div class="module implemented">
                            <div class="module-status implemented"></div>
                            <div class="module-title">Google Cloud Run Deployment</div>
                            <div class="module-desc">Containerized deployment with auto-scaling, utilizing Google Cloud
                                Build for optimized Docker images</div>
                            <div class="module-tech">
                                <div class="tech-tag">Docker</div>
                                <div class="tech-tag">Cloud Run</div>
                                <div class="tech-tag">Cloud Build</div>
                                <div class="tech-tag">Auto-scaling</div>
                            </div>
                        </div>

                        <div class="module optimization">
                            <div class="module-status optimization"></div>
                            <div class="module-title">Model Deployment Strategy</div>
                            <div class="module-desc">Lazy loading of models at deployment stage with HuggingFace API
                                integration for reduced image size</div>
                            <div class="module-tech">
                                <div class="tech-tag">Lazy Loading</div>
                                <div class="tech-tag">HuggingFace API</div>
                                <div class="tech-tag">Container Optimization</div>
                            </div>
                        </div>

                        <div class="module planned">
                            <div class="module-status planned"></div>
                            <div class="module-title">Monitoring & Logging</div>
                            <div class="module-desc">Comprehensive monitoring, logging, and performance tracking for
                                production deployment</div>
                            <div class="module-tech">
                                <div class="tech-tag">Cloud Logging</div>
                                <div class="tech-tag">Cloud Monitoring</div>
                                <div class="tech-tag">Performance Metrics</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="integration-section">
            <div class="integration-title">Frontend Integration Requirements</div>
            <p>Critical components needed for complete system integration between frontend and backend services</p>

            <div class="integration-components">
                <div class="integration-item">
                    <h4>Frontend Request Handler</h4>
                    <p>Integration of alignment service calls into existing frontend infrastructure</p>
                </div>


                <div class="integration-item">
                    <h4>Progress Tracking Interface</h4>
                    <p>Real-time progress indicators for long-running alignment processes, including status updates and
                        estimated completion times</p>
                </div>

                <div class="integration-item">
                    <h4>Error Handling & Feedback</h4>
                    <p>Comprehensive error messaging and user feedback system for failed alignment requests or invalid
                        TEI document submissions</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Technical Requirements</h2>
            <p>System specifications and deployment considerations for the DiScEPT backend application</p>

            <div class="modules">
                <div class="module implemented">
                    <div class="module-status implemented"></div>
                    <div class="module-title">Current Deployment: Google Cloud Run</div>
                    <div class="module-desc">Containerized deployment with automatic scaling, handling Docker images up
                        to 10GB with lazy model loading at startup</div>
                    <div class="module-tech">
                        <div class="tech-tag">Docker Container</div>
                        <div class="tech-tag">Auto-scaling</div>
                        <div class="tech-tag">Cloud Build</div>
                        <div class="tech-tag">Lazy Loading</div>
                    </div>
                </div>

                <div class="module planned">
                    <div class="module-status planned"></div>
                    <div class="module-title">Minimum Server Requirements</div>
                    <div class="module-desc">For potential Institute server deployment: 8GB RAM minimum, GPU recommended
                        for local model inference, Docker support required</div>
                    <div class="module-tech">
                        <div class="tech-tag">8GB+ RAM</div>
                        <div class="tech-tag">GPU Optional</div>
                        <div class="tech-tag">Docker Engine</div>
                        <div class="tech-tag">Python 3.9+</div>
                    </div>
                </div>

                <div class="module planned">
                    <div class="module-status planned"></div>
                    <div class="module-title">Network & Storage Requirements</div>
                    <div class="module-desc">HuggingFace API access required, Redis for caching, persistent storage for
                        model cache and temporary processing files</div>
                    <div class="module-tech">
                        <div class="tech-tag">Internet Access</div>
                        <div class="tech-tag">Redis Server</div>
                        <div class="tech-tag">Persistent Storage</div>
                        <div class="tech-tag">HTTPS Support</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="questions-section">
            <h2>Critical Architecture Questions</h2>
            <div class="question-item">
                <div class="question-title">Immediate Prototype Deployment</div>
                <div class="question-desc">Should we continue with Google Cloud Run for prototype development and
                    testing, or migrate to Institute servers now?</div>
            </div>

            <div class="question-item">
                <div class="question-title">Long-term Distribution Strategy</div>
                <div class="question-desc">What's our vision for service distribution after prototype validation: (1)
                    Open source release where users self-deploy, (2) Hosted service on Institute infrastructure, (3)
                    CLARIN infrastructure deployment for European academic access, or (4) Multiple deployment options?
                    This determines our development priorities and sustainability model.</div>
            </div>

            <div class="question-item">
                <div class="question-title">Document Length Constraints</div>
                <div class="question-desc">What are the practical length limits for TEI documents submitted from the
                    frontend?</div>
            </div>
            <div class="question-item">
                <div class="question-title">TEI Format Coverage & Scope</div>
                <div class="question-desc">Should we focus exclusively on the current TEI P5 format we're using, or do
                    we need to support multiple TEI schema variations and encoding models? What's the scope of TEI
                    diversity we expect from our users?</div>
            </div>

            <div class="question-item">
                <div class="question-title">Language Selection Strategy</div>
                <div class="question-desc">Should we implement a predefined language selection dropdown in the frontend
                    where users manually choose source and target languages? This would eliminate the need for automatic
                    language detection (googletrans dependency) and significantly reduce Docker image size.</div>
                <div class="question-impact"><strong>Impact:</strong> Docker image optimization, dependency reduction,
                    user workflow simplicity, potential user errors from incorrect language selection</div>
            </div>



            <div class="question-item">
                <div class="question-title">User Base & Concurrent Usage Expectations</div>
                <div class="question-desc">For normal prototype usage, we expect 1-2 concurrent users, but workshops and
                    demonstrations could bring sudden spikes of 10-20+ simultaneous requests. Should we implement a
                    queue-based processing system (similar to eScriptorium) to handle these peak loads gracefully, or
                    rely on auto-scaling with potential wait times during demos?</div>
                <div class="question-impact"><strong>Impact:</strong> User experience during demos, infrastructure costs
                    during idle periods, system complexity, workshop planning requirements</div>
            </div>

            <div class="question-item">
                <div class="question-title">Data Storage</div>
                <div class="question-desc">What are the privacy requirements for handling potentially unpublished
                    academic texts or sensitive historical documents? Should we store textual data before and after
                    alignment to evaluate algorithm performance, or must all processing be ephemeral?</div>
            </div>
        </div>
    </div>

    <script>
        function highlightStep(element) {
            // Remove previous highlights
            document.querySelectorAll('.pipeline-step').forEach(step => {
                step.style.background = step.classList.contains('implemented') ? 'linear-gradient(135deg, #f8fff8, #e8f5e8)' :
                    step.classList.contains('planned') ? 'linear-gradient(135deg, #f0f8ff, #e3f2fd)' :
                        step.classList.contains('optimization') ? 'linear-gradient(135deg, #fff5f5, #ffebee)' : 'white';
                step.style.borderColor = step.classList.contains('implemented') ? '#28a745' :
                    step.classList.contains('planned') ? '#007bff' :
                        step.classList.contains('optimization') ? '#dc3545' : '#dee2e6';
            });

            // Highlight clicked step
            element.style.background = 'linear-gradient(45deg, #fff3cd, #ffeaa7)';
            element.style.borderColor = '#ffc107';
            element.style.transform = 'scale(1.02)';

            setTimeout(() => {
                element.style.transform = 'translateY(-3px)';
            }, 200);
        }

        // Add interactive hover effects
        document.querySelectorAll('.module').forEach(module => {
            module.addEventListener('mouseenter', () => {
                const status = module.classList.contains('optimization') ? 'optimization' :
                    module.classList.contains('implemented') ? 'implemented' :
                        module.classList.contains('in-progress') ? 'in-progress' : 'planned';

                const glowColors = {
                    optimization: 'rgba(220, 53, 69, 0.2)',
                    implemented: 'rgba(40, 167, 69, 0.2)',
                    'in-progress': 'rgba(255, 193, 7, 0.2)',
                    planned: 'rgba(0, 123, 255, 0.2)'
                };

                module.style.boxShadow = `0 4px 15px ${glowColors[status]}`;
            });
        });

        // Pipeline step click tracking
        document.querySelectorAll('.pipeline-step').forEach((step, index) => {
            step.addEventListener('click', () => {
                console.log(`Pipeline step ${index + 1} clicked:`, step.querySelector('.step-title').textContent);
            });
        });
    </script>
</body>

</html>